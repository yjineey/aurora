import{_ as $}from"./C3vqHBn7.js";import{_ as H}from"./IxsTiQ6F.js";import{d as u,r as P,o as I,c as g,e as S,i as l,w as m,n as D,y as p,u as E,z as M,P as C,p as x,A as V,B as Y,C as y,a as q,D as Q,E as X,G as _,H as F,I as G,S as J,T as K,J as W,L as Z,f,K as k,M as tt,N as et,s as w,O as ot,Q as nt,m as at,R as st,h as rt}from"./BuJRc69i.js";import it from"./DoHskeft.js";import lt from"./YDcHPb2A.js";import{V as ut,R as ct}from"./BxEwf43D.js";import{u as pt}from"./JJPLesOO.js";import{q as mt}from"./CjlNP36e.js";import{u as dt}from"./DeZopzsl.js";import{u as ft}from"./Dj_B1ZsP.js";import{d as gt}from"./Pgys8K-J.js";import"./iXYtnicW.js";import"./DlAUqK2U.js";import"./BM3dLBls.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./BarxQMNH.js";import"./Cosfqj3A.js";const yt={class:"fixed bottom-36 right-3 z-50 sm:bottom-20"},_t=u({__name:"ScrollToTop",setup(t){const o=P(!1);I(()=>{window.addEventListener("scroll",()=>{o.value=window.scrollY>0})});function e(){window.scrollTo({top:0,behavior:"smooth"})}return(n,a)=>{const s=$,i=H;return g(),S("div",yt,[l(i,{"aria-label":"scroll to top button",class:D(["flex size-10 items-center justify-center p-1 text-muted transition-all duration-200 hover:text-main",{"opacity-100":p(o),"opacity-0":!p(o)}]),rounded:"",onClick:e},{default:m(()=>[l(s,{name:"heroicons-arrow-up",class:"z-20 size-6"})]),_:1},8,["class"])])}}}),ht=u({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},async setup(t,o){const e=await y[t.name]().then(n=>n.default||n);return()=>_(e,t.layoutProps,o.slots)}}),St=u({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(t,o){const e=E(),n=M(C),a=n===x()?V():n,s=Y(()=>{let r=p(t.name)??a.meta.layout??"default";return r&&!(r in y)&&t.fallback&&(r=p(t.fallback)),r}),i=P();o.expose({layoutRef:i});const d=e.deferHydration();if(e.isHydrating){const r=e.hooks.hookOnce("app:error",d);q().beforeEach(r)}return()=>{const r=s.value&&s.value in y,c=a.meta.layoutTransition??Q;return X(K,r&&c,{default:()=>_(J,{suspensible:!0,onResolve:()=>{G(d)}},{default:()=>_(bt,{layoutProps:F(o.attrs,{ref:i}),key:s.value||void 0,name:s.value,shouldProvide:!t.name,hasTransition:!!c},o.slots)})}).default()}}}),bt=u({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(t,o){const e=t.name;return t.shouldProvide&&W(Z,{isCurrent:n=>e===(n.meta.layout??"default")}),()=>{var n,a;return!e||typeof e=="string"&&!(e in y)?(a=(n=o.slots).default)==null?void 0:a.call(n):_(ht,{key:e,layoutProps:t.layoutProps,name:e},o.slots)}}}),vt=["width","height","x","y"],wt=["cx","cy","r"],Pt=u({__name:"DotPattern",props:{size:{type:Number,default:16},radius:{type:Number,default:1},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0}},setup(t){return(o,e)=>(g(),S("svg",null,[f("defs",null,[f("pattern",{id:"dot-pattern",width:t.size,height:t.size,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse",x:t.offsetX,y:t.offsetY},[f("circle",{cx:t.size/2,cy:t.size/2,r:t.radius},null,8,wt)],8,vt)]),e[0]||(e[0]=f("rect",{width:"100%",height:"100%","stroke-width":"0",fill:"url(#dot-pattern)"},null,-1))]))}}),Ct=t=>{const o=Object.create(null);for(const e in t){const n=t[e];n!==void 0&&(o[e]=n)}return o},B=(t,o)=>(e,n)=>(k(()=>t({...Ct(e),...n.attrs},n)),()=>{var a,s;return o?(s=(a=n.slots).default)==null?void 0:s.call(a):null}),T={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},xt=u({name:"Html",inheritAttrs:!1,props:{...T,manifest:String,version:String,xmlns:String,renderPriority:[String,Number]},setup:B(t=>({htmlAttrs:t}),!0)}),kt=u({name:"Body",inheritAttrs:!1,props:{...T,renderPriority:[String,Number]},setup:B(t=>({bodyAttrs:t}),!0)}),Qt=u({__name:"[...slug]",async setup(t){let o,e;const n=x(),{data:a}=([o,e]=tt(()=>pt(`${n.path}`,()=>mt(n.path).findOne())),o=await o,e(),o);if(!a.value)throw et({statusCode:404,statusMessage:"Page not found"});dt(a.value);const s=at(),i=w(),{appName:d,email:r}=w(),{t:c,locale:b}=ot();k({titleTemplate:`%s - ${d}`}),nt({description:()=>c("global.app_description"),author:"yjineey",ogImage:"https://canvas.hrcd.fr/social-preview.jpg",ogType:"website",ogTitle:i.appName,ogDescription:()=>c("global.app_description"),ogUrl:()=>s.public.siteUrl,ogLocale:()=>b.value,twitterTitle:i.appName,twitterDescription:()=>c("global.app_description"),twitterCard:"summary_large_image",twitterSite:i.twitterUsername,twitterCreator:i.twitterUsername,twitterImage:"https://canvas.hrcd.fr/social-preview.jpg"});const{copy:N}=ft({source:r});return gt({meta_o:{usingInput:!0,handler:()=>{N(),ut.success(c("global.email_copied"))}}}),(h,Bt)=>{const z=_t,L=it,j=lt,A=St,R=Pt,O=kt,U=xt;return g(),S("div",null,[l(U,{lang:h.$i18n.locale,class:"bg-zinc-950 text-main font-geist transition-colors duration-300 selection:bg-white/60 selection:text-zinc-800"},{default:m(()=>[l(O,null,{default:m(()=>[l(z),l(A,null,{default:m(()=>[l(j,{path:(h._.provides[C]||h.$route).path,locale:p(b),find:"one"},{default:m(({data:v})=>[v?(g(),st(L,{key:0,value:v},null,8,["value"])):rt("",!0)]),_:1},8,["path","locale"])]),_:1}),l(p(ct),{"close-button":""}),l(R,{class:"absolute inset-0 -z-10 size-full fill-white/5 [mask-image:radial-gradient(white,transparent_85%)]"})]),_:1})]),_:1},8,["lang"])])}}});export{Qt as default};
